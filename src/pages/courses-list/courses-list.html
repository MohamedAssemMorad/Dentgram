<ion-header *ngIf="this.platform.dir() === 'rtl'" class="header" dir="ltr" no-border>
  <ion-navbar class="ion-navbar" hideBackButton="true" color="darkprimary" *ngIf="!isSearchToggle">
    <ion-buttons style="display: flex; direction: row;" end>

      <button ion-button *ngIf="this.mainFunc.manuno8 == false" (tap)="openCartPage2()" start>
        <ion-icon name="md-cart" *ngIf="this.mainFunc.manuno8 == false" [@cartBadge]="cartBadgeState"></ion-icon>
        <ion-badge color="danger" *ngIf="mainFunc.getCartItemsNumber()" [@flyInOut]="cartBadgeState" item-end>{{mainFunc.getCartItemsNumber()}}</ion-badge>
      </button>

      <button ion-button (tap)="showSearchBar()" start>
          <ion-icon name="search"></ion-icon>
        </button>
    </ion-buttons>
    <!-- <ion-title>دانتجرام</ion-title> -->
    
    <img class="homeLogo" src="assets/img/homelogo.png">

    <ion-buttons style="display: flex; direction: row;" end>
      <button ion-button menuToggle end>
        <!-- <ion-icon name="menu"></ion-icon> -->
        <img src="assets/img/avatar.png" class="avatar-menu-icon">
      </button>

      <span *ngIf="this.platform.dir() === 'rtl' && this.mainFunc.manuno8 == false">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
      <span *ngIf="this.platform.dir() === 'ltr' && this.mainFunc.manuno8 == false">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
      <button ion-button icon-only (tap)="dismissview()">
        <ion-icon *ngIf="this.platform.dir() === 'rtl'" name="ios-arrow-back"></ion-icon>
        <ion-icon *ngIf="this.platform.dir() === 'ltr'" name="ios-arrow-forward"></ion-icon>
      </button>

    </ion-buttons>

  </ion-navbar>

  <div class="serachDiv" dir="{{direcR}}" *ngIf="isSearchToggle">
    <ion-searchbar class="toolbarSearch" cancle-button="true" placeholder="بحث" (input)="searchBar($event)"></ion-searchbar>
    <div class="searchButton">
      <button ion-button color="fontWhite" (tap)="showSearchBar()" clear>
        <ion-icon *ngIf="direc === 'ltr'" name="md-arrow-round-forward"></ion-icon>
        <ion-icon *ngIf="direc === 'rtl'" name="md-arrow-round-back"></ion-icon>
      </button>
    </div>

  </div>
</ion-header>

<ion-header *ngIf="this.platform.dir() === 'ltr'" dir="rtl" class="header" no-border>
  <ion-navbar class="ion-navbar" hideBackButton="true" color="darkprimary" *ngIf="!isSearchToggle">
    <ion-buttons style="display: flex; direction: row;" start>
      <button ion-button *ngIf="this.mainFunc.manuno8 == false" (tap)="openCartPage2()">
        <ion-icon name="md-cart" *ngIf="this.mainFunc.manuno8 == false" [@cartBadge]="cartBadgeState"></ion-icon>
        <ion-badge color="danger" *ngIf="mainFunc.getCartItemsNumber()" [@flyInOut]="cartBadgeState" item-end>{{mainFunc.getCartItemsNumber()}}</ion-badge>
      </button>
      <button ion-button (tap)="showSearchBar()">
          <ion-icon name="search"></ion-icon>
        </button>
    </ion-buttons>
    <!-- <ion-title>دانتجرام</ion-title> -->
    
    <img class="homeLogo" src="assets/img/homelogo.png">
    
    <ion-buttons style="display: flex; direction: row;" end>
      <span *ngIf="this.platform.dir() === 'ltr' && this.mainFunc.manuno8 == false">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
      <button ion-button icon-only (tap)="dismissview()">
        <ion-icon *ngIf="this.platform.dir() === 'rtl'" name="ios-arrow-back"></ion-icon>
        <ion-icon *ngIf="this.platform.dir() === 'ltr'" name="ios-arrow-forward"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>

  <div class="serachDiv" dir="{{direcR}}" *ngIf="isSearchToggle">
    <ion-searchbar class="toolbarSearch" cancle-button="true" placeholder="{{ 'SEARCH' | translate:param }}" (input)="searchBar($event)"></ion-searchbar>
    <div class="searchButton">
      <button ion-button color="fontWhite" (tap)="showSearchBar()" clear>
        <ion-icon *ngIf="direc === 'ltr'" name="md-arrow-round-forward"></ion-icon>
        <ion-icon *ngIf="direc === 'rtl'" name="md-arrow-round-back"></ion-icon>
      </button>

    </div>

  </div>
</ion-header>

<div class="fixed-header">
  <div *ngIf="this.catId == 0" class="wrapperlist">
    <div center>
      <div class="boxlist">
        <div class="box2list bg6" style="width: 100%;" (tap)="click_Open_Page(this.secretid)">
          <div class="subTable1stDivlist">
            <img src="assets/img/categories.png">
          </div>
          <div class="centerVerticallist">
            <div *ngIf="this.platform.dir() === 'rtl'" class="fontNormal maxsize">{{ 'CATEGORIES' | translate:param }}</div>
            <div *ngIf="this.platform.dir() === 'ltr'" class="fontNormal maxsize">{{ 'CATEGORIES' | translate:param }}</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div *ngIf="slider_Data_Store.length > 0" class="slide-img-size" dir="ltr">
    <div>
      <ion-slides id="slider" (ionSlideDidChange)="slideChanged()" speed="500" loop="true" spaceBewteen="15" pager>
        <ion-slide class="ion-slide" *ngFor='let slide of slider_Data_Store'>
          <div (click)="openSlider(slide.action,slide.id)">
            <img class="slide-img-size" [ngClass]="{tablet: isTabletOriPad}" [src]="slide.url.full">
          </div>
        </ion-slide>
      </ion-slides>
    </div>
  </div>
</div>


<ion-content id="content" [ngClass]="slider_Data_Store.length > 0? 'ion-content-below-slider-area-and-subheader': ''">

  <div *ngIf="!isSearchToggle">

    <div *ngIf="secretid === 'library'">
      <ion-segment [(ngModel)]="libraryType" (ionChange)="loadLibData()">
        <ion-segment-button value="books">
          <ion-icon name="ios-book-outline"></ion-icon>
          <br>Articles
        </ion-segment-button>
        <ion-segment-button value="videos">
          <ion-icon name="ios-videocam-outline"></ion-icon>
          <br>Videos
        </ion-segment-button>
      </ion-segment>
    </div>
    <div class="wrapperImage">
      <div *ngFor="let item of homemenu; let i = index" center>

        <ion-card *ngIf="secretid === 'course'" (tap)="openDetailsPage(item.id)">
          <div *ngIf="item.img != null">
            <img class="imgMainDetails" [src]="item.img" onError="src='assets/img/course_img_not_avilable.png'" />
          </div>

          <ion-card-content>
            <ion-card-title *ngIf="this.platform.dir() === 'rtl'">
              {{ item.name_ar }}
            </ion-card-title>
            <ion-card-title *ngIf="this.platform.dir() === 'ltr'">
              {{ item.name_en }}
            </ion-card-title>

          </ion-card-content>
          <ion-row no-padding>
            <ion-col>
              <button ion-button clear small color="danger" icon-start>
                <ion-icon name='md-map'></ion-icon>
                <div style="color: #555555;">{{ item.location }}</div>
              </button>
            </ion-col>
            <ion-col text-center>
              <button ion-button clear small icon-start>
                <ion-icon name='heart-outline'></ion-icon>
              </button>
            </ion-col>
          </ion-row>
          <ion-row no-padding>
            <ion-col>
              <button ion-button clear small color="danger" icon-start>
                <ion-icon name='md-calendar'></ion-icon>
                <div style="color: #555555;">{{ item.start_date | date : "dd MMM y" }}</div>
              </button>
            </ion-col>
            <ion-col text-center>
              <button ion-button clear small color="danger" icon-start>
                <ion-icon name='md-stats'></ion-icon>
                <div style="color: #555555;">{{ item.level }}</div>
              </button>
            </ion-col>

          </ion-row>

        </ion-card>



        <ion-card *ngIf="secretid === 'event'" (tap)="openDetailsEventPage(item.id)">
          <div *ngIf="item.img != null">
            <img class="imgMainDetails" [src]="item.img" onError="src='assets/img/course_img_not_avilable.png'" />
          </div>

          <ion-card-content>
            <ion-card-title *ngIf="this.platform.dir() === 'rtl'">
              {{ item.name_ar }}
            </ion-card-title>
            <ion-card-title *ngIf="this.platform.dir() === 'ltr'">
              {{ item.name_en }}
            </ion-card-title>

          </ion-card-content>

          <ion-row no-padding>
            <ion-col>
              <button ion-button clear small color="danger" icon-start>
                <ion-icon name='md-calendar'></ion-icon>
                <div style="color: #555555;">{{ item.start_date | date : "dd MMM y" }}</div>
              </button>
            </ion-col>

            <ion-col>
              <button ion-button clear small color="danger" icon-start>
                <ion-icon name='md-map'></ion-icon>
                <div style="color: #555555;">{{ item.location }}</div>
              </button>
            </ion-col>
          </ion-row>

        </ion-card>


        <ion-card [ngSwitch]="books" *ngIf="secretid === 'library' && libraryType === 'books'" (tap)="openLibraryItem(item.id)">
          <div *ngIf="item.img != null">
            <img class="imgMainDetails" [src]="item.img" onError="src='assets/img/course_img_not_avilable.png'" />
          </div>

          <ion-card-content>
            <ion-card-title *ngIf="this.platform.dir() === 'rtl'">
              <ion-icon name="ios-book-outline"></ion-icon> {{ item.name_ar }}
            </ion-card-title>
            <ion-card-title *ngIf="this.platform.dir() === 'ltr'">
              <ion-icon name="ios-book-outline"></ion-icon> {{ item.name_en }}
            </ion-card-title>

          </ion-card-content>

        </ion-card>
        <ion-card [ngSwitch]="videos" *ngIf="secretid === 'library' && libraryType === 'videos'" (tap)="openLibraryItem(item.id)">
          <div *ngIf="item.img != null">
            <img class="imgMainDetails" [src]="item.img" onError="src='assets/img/course_img_not_avilable.png'" />
          </div>

          <ion-card-content>
            <ion-card-title *ngIf="this.platform.dir() === 'rtl'">
              <ion-icon name="ios-videocam-outline"></ion-icon> {{ item.name_ar }}
            </ion-card-title>
            <ion-card-title *ngIf="this.platform.dir() === 'ltr'">
              <ion-icon name="ios-videocam-outline"></ion-icon> {{ item.name_en }}
            </ion-card-title>

          </ion-card-content>

        </ion-card>

      </div>
    </div>

  </div>

  <ion-infinite-scroll (ionInfinite)="doInfinite($event)">
    <ion-infinite-scroll-content></ion-infinite-scroll-content>
  </ion-infinite-scroll>

  <div class="footerz" *ngIf="!isDataAvilable">
    <img src="assets/img/nodata.png">
  </div>

  <div class="footerz" *ngIf="!homemenu?.length > 0 && isDataAvilable">
    <ion-spinner></ion-spinner>
  </div>


</ion-content>